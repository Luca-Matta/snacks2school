import{d as w,r as d,g as v,t as g,H as y,A as i,z as u,x as e,U as k,V as p,W as C,X as V,O as T,B as m,I as f,J as I,K as N}from"./BPmhSm-Y.js";import{_ as S}from"./BXyX1x7l.js";import{a as c}from"./C_D2JwHD.js";import"./upsvKRUO.js";const _={class:"flex justify-center items-center bg-[#f5f5f5] h-[100vh]"},B={class:"flex flex-col justify-center items-center !px-4"},R={class:"bg-white !rounded-3xl shadow-card w-[335px] md:w-auto md:min-w-96 p-6 mt-6 md:mt-12"},A={class:"mb-3"},L={class:"mb-3 relative"},M=["type"],P={class:"text-sm mt-3 mb-0 text-lead"},F=w({__name:"login",setup(U){const t=d("password"),a=d(""),r=d(""),x=()=>{t.value=t.value==="password"?"text":"password"},b=async()=>{try{const s=(await c.get("csrf-token/")).data.csrfToken,o=await c.post("login/",{username:a.value,password:r.value},{headers:{"X-CSRFToken":s},withCredentials:!0});o.data.token&&(localStorage.setItem("token",o.data.token),window.location.href="/")}catch(l){console.error("Login failed:",l)}};return(l,s)=>{const o=v("router-link");return g(),y(f(N),null,{default:i(()=>[u(f(I),{fullscreen:!0},{default:i(()=>[e("div",_,[e("div",B,[s[10]||(s[10]=e("img",{src:S,alt:"star",class:"h-32 w-32"},null,-1)),s[11]||(s[11]=e("div",{class:"text-4xl md:text-5xl font-bold"},"Snacks2School",-1)),s[12]||(s[12]=e("p",{class:"max-w-96 text-center !py-4"}," La merenda a portata di click ",-1)),e("div",R,[s[7]||(s[7]=e("div",{class:"text-2xl font-semibold"},"Accedi",-1)),s[8]||(s[8]=e("p",{class:"text-sm opacity-80 mt-2"},"Compra la tua merenda",-1)),s[9]||(s[9]=e("hr",{class:"mt-6 mb-4"},null,-1)),e("form",{class:"mb-3",onSubmit:k(b,["prevent"])},[e("div",A,[s[2]||(s[2]=e("label",{class:"block text-xs mb-1",for:"username"},"Nome utente",-1)),p(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>a.value=n),id:"username",name:"username",type:"text",class:"w-full !bg-[#f5f5f5] !border !border-[#e0e0e0]",style:{"border-radius":"5px",padding:"7px"},autocomplete:"username"},null,512),[[C,a.value]])]),e("div",L,[s[3]||(s[3]=e("label",{class:"block text-xs mb-1",for:"password"}," Password ",-1)),p(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>r.value=n),id:"password",name:"password",type:t.value,class:"w-full bg-[#f5f5f5] border border-[#e0e0e0]",style:{"border-radius":"5px",padding:"7px"},autocomplete:"current-password"},null,8,M),[[V,r.value]]),e("i",{class:T([t.value==="password"?"fas fa-eye":"fas fa-eye-slash","absolute right-3 top-10 transform -translate-y-1/2 cursor-pointer"]),onClick:x},null,2)]),s[6]||(s[6]=e("div",{class:"text-center"},[e("button",{type:"submit",class:"btn bg-[#ffa500] w-full font-bold uppercase text-xs shadow-button my-4 mb-2 !py-3 !px-6 !rounded-lg"}," Accedi ")],-1)),e("p",P,[s[5]||(s[5]=m(" Non hai un account? ")),u(o,{to:"/group-choice",class:"font-bold !text-black"},{default:i(()=>s[4]||(s[4]=[m("Registrati")])),_:1})])],32)])])])]),_:1})]),_:1})}}});export{F as default};
