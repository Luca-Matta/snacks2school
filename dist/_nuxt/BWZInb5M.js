import{c as S,_ as N}from"./BC9YvzMU.js";import{_ as V}from"./DGCl3OMf.js";import{d as B,r as g,o as F,t as s,v as n,z as y,T as L,x as e,P as u,Q as p,y as r,B as P,N as k}from"./zBMnQkMZ.js";import{_ as U}from"./e6vvkQtW.js";import{a as f}from"./DnnEEGBS.js";import"./s43lJ_pP.js";import"./upsvKRUO.js";const z=""+new URL("orders.nMnO64ao.png",import.meta.url).href,b=""+new URL("checked.CPq-7jru.png",import.meta.url).href,w=""+new URL("unchecked.DqpeMOnQ.png",import.meta.url).href,E={class:"flex flex-col justify-center max-w-screen-xl mx-auto mb-16 gap-16"},M={class:"flex-col justify-center items-center"},$={class:"flex justify-center items-center gap-2 md:gap-4"},q={class:"font-bold text-center text-2xl"},X={class:"flex justify-center flex-wrap max-w-screen-xl mx-auto gap-12"},A={class:"font-bold text-center"},D={class:"font-bold text-center"},I={class:"flex flex-col gap-2"},Q={key:0},G={key:0},H={key:1},J={key:1},K={key:0},W={key:1},Y={class:"flex flex-col text-xs font-bold mt-4 gap-2"},Z=["onClick"],ee={key:0,src:b,alt:"Checked",class:"h-4 w-4 cursor-pointer"},te={key:1,src:w,alt:"Unchecked",class:"h-4 w-4 cursor-pointer"},se={class:"ml-2 cursor-pointer"},ne=["onClick"],oe={key:0,src:b,alt:"Checked",class:"h-4 w-4 cursor-pointer"},re={key:1,src:w,alt:"Unchecked",class:"h-4 w-4 cursor-pointer"},ae={class:"ml-2 cursor-pointer"},fe=B({__name:"index",setup(le){const j=g(!1);g(null);const v=g([]),C=async()=>{try{const t=(await f.get("csrf-token/")).data.csrfToken,i=await f.get("http://localhost:8000/api/grouped-orders/",{headers:{"X-CSRFToken":t},withCredentials:!0});v.value=i.data}catch(c){console.error("Error fetching grouped orders:",c)}},O=async(c,t,i)=>{try{const m=(await f.get("csrf-token/")).data.csrfToken,x=await f.post("http://localhost:8000/api/toggle-order-prepared-status/",{delivery_date:c,school_name:t,class_name:i},{headers:{"X-CSRFToken":m},withCredentials:!0})}catch(d){console.error("Error toggling order prepared status:",d)}finally{window.location.reload()}},R=async(c,t,i)=>{try{const m=(await f.get("csrf-token/")).data.csrfToken,x=await f.post("http://localhost:8000/api/toggle-order-delivered-status/",{delivery_date:c,school_name:t,class_name:i},{headers:{"X-CSRFToken":m},withCredentials:!0})}catch(d){console.error("Error toggling order delivered status:",d)}finally{window.location.reload()}};return F(async()=>{j.value=await S(),C()}),(c,t)=>{const i=N,d=V;return s(),n("div",null,[y(i),t[9]||(t[9]=L('<div class="max-w-screen-xl mx-auto flex flex-col justify-center items-center !py-16 !px-4 gap-12"><div class="text-4xl md:text-6xl lg:text-8xl text-center font-bold mb-4"><div><span class="text-[#af4135]">Benvenuto</span> nel tuo <span class="text-[#a688f9]">gestionale!</span></div><div class="flex justify-center items-center gap-2 md:gap-6"><div> Visualizza <span class="text-[#bf09bd]">i tuoi ordini</span></div><img src="'+z+'" alt="Orders" class="h-10 md:h-20 w-10 md:w-20 cursor-pointer"></div></div></div>',1)),e("div",null,[e("div",E,[(s(!0),n(u,null,p(v.value,(m,x)=>(s(),n("div",{key:x,class:"flex flex-col justify-center items-center gap-6"},[e("div",M,[e("div",$,[t[0]||(t[0]=e("img",{src:U,alt:"List",class:"h-6 md:h-10 w-6 md:w-10 cursor-pointer"},null,-1)),e("h2",q," In consegna il "+r(x),1)]),t[1]||(t[1]=e("div",{class:"text-center text-xs font-bold max-w-80 mx-auto mt-2"}," Ricorda di inserire nel box la lista con i nomi degli alunni e gli snack e le bevande associati. ",-1)),t[2]||(t[2]=e("div",{class:"flex justify-center items-center text-center text-xs font-bold max-w-80 mx-auto -mt-1"},[e("div",null,[e("span",{class:"underline"},"Te la provvediamo noi!"),P(" Clicca qui ")]),e("span",{class:"text-2xl ml-1"},"🫶🏽")],-1))]),e("div",X,[(s(!0),n(u,null,p(m,(T,_)=>(s(),n("div",{key:_,class:"bg-white shadow-card !rounded-2xl p-8 outline outline-1 outline-[#af4135] outline-offset-4 shadow-card hover:shadow-none transition-all duration-500 max-w-[350px] md:max-w-96"},[e("h3",A,r(_),1),(s(!0),n(u,null,p(T,(o,h)=>(s(),n("div",{key:h,class:"mt-5"},[e("h4",D,r(h),1),e("div",I,[Object.keys(o.snack_break.snacks).length>0||Object.keys(o.snack_break.drinks).length>0?(s(),n("div",Q,[t[5]||(t[5]=e("h5",{class:"font-bold text-center text-sm"},"Merenda",-1)),Object.keys(o.snack_break.snacks).length>0?(s(),n("div",G,[t[3]||(t[3]=e("h5",{class:"font-bold text-sm"},"Snacks:",-1)),e("ul",null,[(s(!0),n(u,null,p(o.snack_break.snacks,(l,a)=>(s(),n("li",{key:a,class:"text-xs ml-6"},r(l)+" "+r(a),1))),128))])])):k("",!0),Object.keys(o.snack_break.drinks).length>0?(s(),n("div",H,[t[4]||(t[4]=e("h5",{class:"font-bold text-sm"},"Drinks:",-1)),e("ul",null,[(s(!0),n(u,null,p(o.snack_break.drinks,(l,a)=>(s(),n("li",{key:a,class:"text-xs ml-6"},r(l)+" "+r(a),1))),128))])])):k("",!0)])):k("",!0),Object.keys(o.lunch_break.snacks).length>0||Object.keys(o.lunch_break.drinks).length>0?(s(),n("div",J,[t[8]||(t[8]=e("h5",{class:"font-bold text-center text-sm"},"Pranzo",-1)),Object.keys(o.lunch_break.snacks).length>0?(s(),n("div",K,[t[6]||(t[6]=e("h5",{class:"font-bold text-sm"},"Snacks:",-1)),e("ul",null,[(s(!0),n(u,null,p(o.lunch_break.snacks,(l,a)=>(s(),n("li",{key:a,class:"text-xs ml-6"},r(l)+" "+r(a),1))),128))])])):k("",!0),Object.keys(o.lunch_break.drinks).length>0?(s(),n("div",W,[t[7]||(t[7]=e("h5",{class:"font-bold text-sm"},"Drinks:",-1)),e("ul",null,[(s(!0),n(u,null,p(o.lunch_break.drinks,(l,a)=>(s(),n("li",{key:a,class:"text-xs ml-6"},r(l)+" "+r(a),1))),128))])])):k("",!0)])):k("",!0)]),e("div",Y,[e("div",{class:"flex items-center",onClick:l=>O(x,_,h)},[o.prepared?(s(),n("img",ee)):(s(),n("img",te)),e("div",se,r(o.prepared?"Preparato":"Non preparato"),1)],8,Z),e("div",{class:"flex items-center",onClick:l=>R(x,_,h)},[o.delivered?(s(),n("img",oe)):(s(),n("img",re)),e("div",ae,r(o.delivered?"Consegnato":"Non consegnato"),1)],8,ne)])]))),128))]))),128))])]))),128))])]),y(d)])}}});export{fe as default};
